let mouvements = JSON.parse(localStorage.getItem('bonprix_mouvements')) || [];

function sauvegarderMouvements() {
    localStorage.setItem('bonprix_mouvements', JSON.stringify(mouvements));
}

function scannerProduit(codeBarre) {
    const produit = products.find(p => p.codeBarre === codeBarre);
    if (produit) {
        mouvements.push({ 
            produit: produit.nom, 
            date: new Date().toLocaleString() 
        });
        sauvegarderMouvements();
    }
}
